<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>äººç‰©å½¢å®¹è©å­¸ç¿’éŠæˆ²</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            box-sizing: border-box;
        }
        .speak-btn {
            transition: all 0.2s ease;
        }
        .speak-btn:hover {
            transform: scale(1.1);
        }
        .card-flip {
            transform: rotateY(180deg);
            transition: transform 0.6s;
        }
        .teacher-card {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }
        .student-card {
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
        }
    </style>
</head>
<body class="min-h-screen bg-gradient-to-br from-blue-100 to-purple-100">
    <div class="container mx-auto px-4 py-8">
        <!-- ä¸»é¸å–® -->
        <div id="mainMenu" class="text-center">
            <h1 class="text-4xl font-bold text-purple-800 mb-8">äººç‰©å½¢å®¹è©å­¸ç¿’éŠæˆ²</h1>
            <div class="flex flex-col md:flex-row gap-6 justify-center items-center">
                <div class="teacher-card p-8 rounded-xl shadow-lg text-white cursor-pointer hover:shadow-xl transition-shadow" onclick="showPasswordInput()">
                    <div class="text-6xl mb-4">ğŸ‘©â€ğŸ«</div>
                    <h2 class="text-2xl font-bold mb-2">æ•™å¸«æ•™å­¸å€</h2>
                    <p class="text-lg">æŸ¥çœ‹æ‰€æœ‰è©å½™å¡ç‰‡</p>
                </div>
                <div class="student-card p-8 rounded-xl shadow-lg text-white cursor-pointer hover:shadow-xl transition-shadow" onclick="startGame()">
                    <div class="text-6xl mb-4">ğŸ®</div>
                    <h2 class="text-2xl font-bold mb-2">å­¸ç”Ÿç·´ç¿’å€</h2>
                    <p class="text-lg">é–‹å§‹ç·´ç¿’æ¸¬é©—</p>
                </div>
            </div>
        </div>

        <!-- å¯†ç¢¼è¼¸å…¥ -->
        <div id="passwordInput" class="hidden text-center">
            <div class="bg-white p-8 rounded-xl shadow-lg max-w-md mx-auto">
                <h2 class="text-2xl font-bold text-purple-800 mb-6">è«‹è¼¸å…¥æ•™å¸«å¯†ç¢¼</h2>
                <input type="password" id="password" class="w-full p-3 border-2 border-purple-300 rounded-lg mb-4 text-center text-xl" placeholder="è«‹è¼¸å…¥å¯†ç¢¼">
                <div class="flex gap-4">
                    <button onclick="checkPassword()" class="flex-1 bg-purple-600 text-white py-3 rounded-lg hover:bg-purple-700 transition-colors">ç¢ºèª</button>
                    <button onclick="backToMenu()" class="flex-1 bg-gray-500 text-white py-3 rounded-lg hover:bg-gray-600 transition-colors">è¿”å›</button>
                </div>
            </div>
        </div>

        <!-- æ•™å¸«æ•™å­¸å€ -->
        <div id="teacherArea" class="hidden">
            <div class="flex justify-between items-center mb-8">
                <h2 class="text-3xl font-bold text-purple-800">æ•™å¸«æ•™å­¸å€ - è©å½™å¡ç‰‡</h2>
                <button onclick="backToMenu()" class="bg-gray-500 text-white px-6 py-2 rounded-lg hover:bg-gray-600 transition-colors">è¿”å›ä¸»é¸å–®</button>
            </div>
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6" id="teacherCards">
                <!-- æ•™å¸«å¡ç‰‡å°‡åœ¨é€™è£¡ç”Ÿæˆ -->
            </div>
        </div>

        <!-- å­¸ç”ŸéŠæˆ²å€ -->
        <div id="gameArea" class="hidden">
            <div class="flex justify-between items-center mb-8">
                <div>
                    <h2 class="text-3xl font-bold text-purple-800">å­¸ç”Ÿç·´ç¿’å€</h2>
                    <p class="text-lg text-purple-600">é¡Œç›® <span id="currentQuestion">1</span> / 20 | å¾—åˆ†: <span id="score">0</span></p>
                </div>
                <button onclick="backToMenu()" class="bg-gray-500 text-white px-6 py-2 rounded-lg hover:bg-gray-600 transition-colors">è¿”å›ä¸»é¸å–®</button>
            </div>
            
            <div class="bg-white p-8 rounded-xl shadow-lg max-w-4xl mx-auto">
                <div class="text-center mb-8">
                    <div class="flex items-center justify-center gap-4 mb-4">
                        <h3 class="text-2xl font-bold text-gray-800" id="questionText">é€™å€‹å½¢å®¹è©çš„ä¸­æ–‡æ„æ€æ˜¯ä»€éº¼ï¼Ÿ</h3>
                        <button onclick="speakText(currentWord.english)" class="speak-btn bg-blue-500 text-white p-2 rounded-full hover:bg-blue-600">
                            ğŸ”Š
                        </button>
                    </div>
                    <div class="text-4xl font-bold text-purple-600 mb-6" id="englishWord">tall</div>
                </div>
                
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4" id="options">
                    <!-- é¸é …å°‡åœ¨é€™è£¡ç”Ÿæˆ -->
                </div>
                
                <div id="feedback" class="hidden mt-6 p-4 rounded-lg text-center text-lg font-bold">
                    <!-- å›é¥‹è¨Šæ¯ -->
                </div>
                
                <div id="nextButton" class="hidden text-center mt-6">
                    <button onclick="nextQuestion()" class="bg-green-600 text-white px-8 py-3 rounded-lg hover:bg-green-700 transition-colors text-lg">ä¸‹ä¸€é¡Œ</button>
                </div>
            </div>
        </div>

        <!-- çµæœé é¢ -->
        <div id="resultArea" class="hidden text-center">
            <div class="bg-white p-8 rounded-xl shadow-lg max-w-md mx-auto">
                <div class="text-6xl mb-4">ğŸ‰</div>
                <h2 class="text-3xl font-bold text-purple-800 mb-4">æ¸¬é©—å®Œæˆï¼</h2>
                <p class="text-xl text-gray-700 mb-6">ä½ çš„å¾—åˆ†ï¼š<span id="finalScore" class="text-purple-600 font-bold">0</span> / 20</p>
                <div class="flex gap-4">
                    <button onclick="startGame()" class="flex-1 bg-purple-600 text-white py-3 rounded-lg hover:bg-purple-700 transition-colors">é‡æ–°é–‹å§‹</button>
                    <button onclick="backToMenu()" class="flex-1 bg-gray-500 text-white py-3 rounded-lg hover:bg-gray-600 transition-colors">è¿”å›ä¸»é¸å–®</button>
                </div>
            </div>
        </div>
    </div>

    <script>
        // è©å½™è³‡æ–™
        const vocabulary = [
            { english: 'tall', chinese: 'é«˜çš„', emoji: 'ğŸ€' },
            { english: 'short', chinese: 'çŸ®çš„', emoji: 'ğŸ§’' },
            { english: 'fat', chinese: 'èƒ–çš„', emoji: 'ğŸ»' },
            { english: 'thin', chinese: 'ç˜¦çš„', emoji: 'ğŸ¦’' },
            { english: 'young', chinese: 'å¹´è¼•çš„', emoji: 'ğŸ‘¶' },
            { english: 'old', chinese: 'å¹´è€çš„', emoji: 'ğŸ‘´' },
            { english: 'beautiful', chinese: 'ç¾éº—çš„', emoji: 'ğŸ‘¸' },
            { english: 'handsome', chinese: 'å¸¥æ°£çš„', emoji: 'ğŸ¤´' },
            { english: 'smart', chinese: 'è°æ˜çš„', emoji: 'ğŸ§ ' },
            { english: 'kind', chinese: 'å–„è‰¯çš„', emoji: 'ğŸ˜‡' }
        ];

        let currentQuestionIndex = 0;
        let score = 0;
        let questions = [];
        let currentWord = null;

        // èªéŸ³åˆæˆåŠŸèƒ½
        function speakText(text) {
            if ('speechSynthesis' in window) {
                const utterance = new SpeechSynthesisUtterance(text);
                utterance.lang = 'en-US';
                utterance.rate = 0.8;
                speechSynthesis.speak(utterance);
            }
        }

        // é¡¯ç¤ºå¯†ç¢¼è¼¸å…¥
        function showPasswordInput() {
            document.getElementById('mainMenu').classList.add('hidden');
            document.getElementById('passwordInput').classList.remove('hidden');
        }

        // æª¢æŸ¥å¯†ç¢¼
        function checkPassword() {
            const password = document.getElementById('password').value;
            if (password === '000000') {
                showTeacherArea();
            } else {
                alert('å¯†ç¢¼éŒ¯èª¤ï¼');
            }
        }

        // é¡¯ç¤ºæ•™å¸«å€åŸŸ
        function showTeacherArea() {
            document.getElementById('passwordInput').classList.add('hidden');
            document.getElementById('teacherArea').classList.remove('hidden');
            generateTeacherCards();
        }

        // ç”Ÿæˆæ•™å¸«å¡ç‰‡
        function generateTeacherCards() {
            const container = document.getElementById('teacherCards');
            container.innerHTML = '';
            
            vocabulary.forEach(word => {
                const card = document.createElement('div');
                card.className = 'bg-white p-6 rounded-xl shadow-lg hover:shadow-xl transition-shadow';
                card.innerHTML = `
                    <div class="text-center">
                        <div class="text-4xl mb-4">${word.emoji}</div>
                        <div class="flex items-center justify-center gap-2 mb-2">
                            <h3 class="text-2xl font-bold text-purple-600">${word.english}</h3>
                            <button onclick="speakText('${word.english}')" class="speak-btn bg-blue-500 text-white p-1 rounded-full hover:bg-blue-600 text-sm">
                                ğŸ”Š
                            </button>
                        </div>
                        <p class="text-xl text-gray-700">${word.chinese}</p>
                    </div>
                `;
                container.appendChild(card);
            });
        }

        // é–‹å§‹éŠæˆ²
        function startGame() {
            document.getElementById('mainMenu').classList.add('hidden');
            document.getElementById('resultArea').classList.add('hidden');
            document.getElementById('gameArea').classList.remove('hidden');
            
            currentQuestionIndex = 0;
            score = 0;
            generateQuestions();
            showQuestion();
        }

        // ç”Ÿæˆé¡Œç›®
        function generateQuestions() {
            questions = [];
            const usedWords = new Set();
            
            // ç”Ÿæˆ20å€‹é¡Œç›®
            for (let i = 0; i < 20; i++) {
                let correctWord;
                do {
                    correctWord = vocabulary[Math.floor(Math.random() * vocabulary.length)];
                } while (usedWords.has(correctWord.english) && usedWords.size < vocabulary.length);
                
                if (usedWords.size < vocabulary.length) {
                    usedWords.add(correctWord.english);
                }
                
                // ç”ŸæˆéŒ¯èª¤é¸é …
                const wrongOptions = [];
                while (wrongOptions.length < 3) {
                    const randomWord = vocabulary[Math.floor(Math.random() * vocabulary.length)];
                    if (randomWord.english !== correctWord.english && !wrongOptions.includes(randomWord.chinese)) {
                        wrongOptions.push(randomWord.chinese);
                    }
                }
                
                // æ··åˆé¸é …
                const options = [correctWord.chinese, ...wrongOptions];
                shuffleArray(options);
                
                questions.push({
                    word: correctWord,
                    options: options,
                    correct: correctWord.chinese
                });
            }
        }

        // æ´—ç‰Œå‡½æ•¸
        function shuffleArray(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
        }

        // é¡¯ç¤ºé¡Œç›®
        function showQuestion() {
            if (currentQuestionIndex >= questions.length) {
                showResult();
                return;
            }
            
            const question = questions[currentQuestionIndex];
            currentWord = question.word;
            
            document.getElementById('currentQuestion').textContent = currentQuestionIndex + 1;
            document.getElementById('score').textContent = score;
            document.getElementById('englishWord').textContent = question.word.english;
            
            const optionsContainer = document.getElementById('options');
            optionsContainer.innerHTML = '';
            
            question.options.forEach(option => {
                const optionDiv = document.createElement('div');
                optionDiv.className = 'bg-purple-100 hover:bg-purple-200 p-4 rounded-lg border-2 border-transparent hover:border-purple-300 transition-colors cursor-pointer';
                optionDiv.onclick = () => selectAnswer(option, question.correct);
                
                // æ‰¾åˆ°å°æ‡‰çš„è‹±æ–‡å–®è©
                const englishWord = vocabulary.find(word => word.chinese === option)?.english || '';
                
                optionDiv.innerHTML = `
                    <div class="flex items-center justify-between">
                        <span class="text-lg font-medium flex-1">${option}</span>
                        ${englishWord ? `<button onclick="event.stopPropagation(); speakText('${englishWord}')" class="speak-btn bg-blue-500 text-white p-2 rounded-full hover:bg-blue-600 ml-2">ğŸ”Š</button>` : ''}
                    </div>
                `;
                optionsContainer.appendChild(optionDiv);
            });
            
            document.getElementById('feedback').classList.add('hidden');
            document.getElementById('nextButton').classList.add('hidden');
        }

        // é¸æ“‡ç­”æ¡ˆ
        function selectAnswer(selected, correct) {
            const optionDivs = document.querySelectorAll('#options > div');
            optionDivs.forEach(div => {
                div.style.pointerEvents = 'none';
                const optionText = div.querySelector('span').textContent;
                if (optionText === correct) {
                    div.className = 'bg-green-500 text-white p-4 rounded-lg border-2 border-green-600 cursor-pointer';
                } else if (optionText === selected && selected !== correct) {
                    div.className = 'bg-red-500 text-white p-4 rounded-lg border-2 border-red-600 cursor-pointer';
                }
                // ä¿æŒç™¼éŸ³æŒ‰éµå¯ç”¨
                const speakBtn = div.querySelector('button');
                if (speakBtn) {
                    speakBtn.style.pointerEvents = 'auto';
                }
            });
            
            const feedback = document.getElementById('feedback');
            if (selected === correct) {
                score++;
                feedback.className = 'mt-6 p-4 rounded-lg text-center text-lg font-bold bg-green-100 text-green-800';
                feedback.textContent = 'æ­£ç¢ºï¼å¤ªæ£’äº†ï¼ ğŸ‰';
            } else {
                feedback.className = 'mt-6 p-4 rounded-lg text-center text-lg font-bold bg-red-100 text-red-800';
                feedback.textContent = `éŒ¯èª¤ï¼æ­£ç¢ºç­”æ¡ˆæ˜¯ï¼š${correct}`;
            }
            
            feedback.classList.remove('hidden');
            document.getElementById('nextButton').classList.remove('hidden');
        }

        // ä¸‹ä¸€é¡Œ
        function nextQuestion() {
            currentQuestionIndex++;
            showQuestion();
        }

        // é¡¯ç¤ºçµæœ
        function showResult() {
            document.getElementById('gameArea').classList.add('hidden');
            document.getElementById('resultArea').classList.remove('hidden');
            document.getElementById('finalScore').textContent = score;
        }

        // è¿”å›ä¸»é¸å–®
        function backToMenu() {
            document.getElementById('passwordInput').classList.add('hidden');
            document.getElementById('teacherArea').classList.add('hidden');
            document.getElementById('gameArea').classList.add('hidden');
            document.getElementById('resultArea').classList.add('hidden');
            document.getElementById('mainMenu').classList.remove('hidden');
            document.getElementById('password').value = '';
        }
    </script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'98f3e59964cea3ab',t:'MTc2MDU3OTMzNy4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
